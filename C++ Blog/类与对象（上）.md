## 类与对象（上）

#### **C语言和C++解决问题的思路区别：**

C语言是面向过程的，关注的是过程，分析出求解问题的步骤，通过函数调用逐步解决问题。

C++是基于面向对象的，关注的是对象，将一件事情拆分成不同的对象，靠对象之间的交互解决问题。

#### **类的定义：**

C语言中，结构体中只能定义变量，在C++中，结构体内不仅可以定义变量，也可以定义函数。

将struct关键字用class代替就是类的定义格式：

```
class className{//class为定义类的关键字，className为类的名字
    //类体：由成员函数和成员变量组成
}；//一定注意此处要加分号
```

类中的数据称为类的属性或成员变量；类中的函数称为类的方法或者成员函数。

**类有两种定义方式：**

##### **1.声明和定义全部放在类体中，需要注意：成员函数如果在类中定义，编译器可能会将其当成内置函数处理。**

**2.声明放在类的头文件.h中，类的定义放在.cpp文件中**

#### 类的访问限定符

**C++实现封装的方式：用类将对象的属性与方法结合在一块，让对象更加完善，通过访问权限选择性的将其接口提供给外部的用户使用。**

访问限定符有：public(公有)、protected(保护)、private(私有)

1.public修饰的成员在类外可以直接被访问

2.protected和private修饰的成员在类外不能直接被访问

3.访问权限作用域从该访问限定符出现的位置开始直到下一个访问限定符出现时为止。

4.class的默认访问权限为private，struct为public（因为struct要兼容C）

**访问限定符只在编译时有用，当数据映射到内存后，没有任何访问限定符上的区别**

#### 封装

**面向对象的程序设计有4个主要特点：抽象、封装、继承和多态性**

抽象的作用是表示同一类事物的本质。

封装：将数据和操作数据的方法进行有机结合，隐藏对象的属性和实现细节，仅对外公开接口来和对象交互。

#### 类的作用域

类定义了一个新的作用域，类的所有成员都在类的作用域中。在类外定义成员，需要使用::类作用域解析符指明成员属于那个类域。

#### 类的实例化

**用类类型创建对象的过程，称为类的实例化**

定义出一个类并没有分配实际的内存空间来存储它，当用类类型创建对象的时候，实例化出的对象才占用实际的物理空间，存储类成员变量。

#### 类的存储模型

类中只保存成员变量，成员函数存放在公共的代码段。内存对齐规则和结构体一样。

**注意：空类编译器会给一个字节来标识这个类。**

#### this指针

C++编译器给每个“成员函数”增加了一个隐藏的指针参数，让该指针指向当前对象（函数运行时调用该函数的对象），在函数体中所有成员变量的操作，都是通过该指针去访问。只不过所有的操作对用户是透明的，即用户不需要来传递，编译器自动完成。

1.this指针的类型：类类型* const

2.只能在“成员函数”的内部使用

3.this指针本质上其实是一个成员函数的形参，是对象调用成员函数时，将对象地址作为实参传递给this形参，this指针存储在栈上。所以对象中不存储this指针

4.this指针是成员函数第一个隐含的指针形参，一般情况由编译器通过ecx寄存器自动传递，不需要用户传递